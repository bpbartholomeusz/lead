function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("local_booking/logentry",["exports","jquery","core/pending","core/modal_factory","local_booking/events","local_booking/modal_logentry_form","local_booking/selectors"],function(a,b,c,d,e,f,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=j(b);c=j(c);d=j(d);e=j(e);f=j(f);g=i(g);function h(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;h=function(){return a};return a}function i(a){if(a&&a.__esModule){return a}if(null===a||"object"!==_typeof(a)&&"function"!=typeof a){return{default:a}}var b=h();if(b&&b.has(a)){return b.get(a)}var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a){if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;if(f&&(f.get||f.set)){Object.defineProperty(c,e,f)}else{c[e]=a[e]}}}c.default=a;if(b){b.set(a,c)}return c}function j(a){return a&&a.__esModule?a:{default:a}}var k=require("local_booking/booking_view_manager"),l=function(a){var c=(0,b.default)(g.bookingwrapper).data("contextid"),d=(0,b.default)(g.bookingwrapper).data("courseid");if(c){a.on("click",g.actions.viewLogEntry,function(a){var e=(0,b.default)(this).attr("data-logentry-id"),f=(0,b.default)(this).attr("data-student-id");a.preventDefault();a.stopPropagation();if(0==e){m(null,a,c,d,f,e,!0)}else{n(c,d,f,e)}a.stopImmediatePropagation()})}},m=function(a,b,e,g,h,i,j){var l=d.default.create({type:f.default.TYPE,large:!0}),m=b.target,n=new c.default("local_booking/registerLogentryEditForm");k.renderLogentryModal(a,b,l,m,e,g,h,i,j).then(n.resolve()).catch()},n=function(a,d,f,g){var h=new c.default("local_booking/registerLogentrySummaryForm");if(g){k.renderLogentrySummaryModal(d,f,g).then(function(c){(0,b.default)("body").on(e.default.editLogentry,function(b,e,f){m(c.getRoot(),b,a,d,e,f);b.stopImmediatePropagation()});(0,b.default)("body").on(e.default.addLogentry,function(b,e){m(c.getRoot(),b,a,d,e,0);b.stopImmediatePropagation()});return c}).then(h.resolve()).catch()}else{h.resolve()}};a.init=function init(a){l(a)}});
//# sourceMappingURL=logentry.min.js.map
